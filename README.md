# Тестовое задание Shakuro
## 1.Рефакторинг
### До:

```javascript
function func(s, a, b) {
	if (s.match(/^$/)) {
		return -1;
	}

	var i = s.length -1;
	var aIndex =     -1;
	var bIndex =     -1;

	while ((aIndex == -1) && (bIndex == -1) && (i > 0)) {
	    if (s.substring(i, i +1) == a) {
	    	aIndex = i;
    	}
	    if (s.substring(i, i +1) == b) {
	    	bIndex = i;
    	}
	    i = i - 1;
	}

	if (aIndex != -1) {
	    if (bIndex == -1) {
	        return aIndex;
	    }
	    else {
	        return Math.max(aIndex, bIndex);
	    }
	}

	if (bIndex != -1) {
	    return bIndex;
	}
	else {
	    return -1;
	}
}
```
### После:
```javascript
function func(s, a, b) {
	if (typeof(s) !== 'string'){
		return -1
	}
	var multiplerA = a.toString().length == 1 ? 1 : 0;
	var multiplerB = b.toString().length == 1 ? 1 : 0;
	var finded = Math.max(s.lastIndexOf(a)*multiplerA,s.lastIndexOf(b)*multiplerB)
	return finded ? finded : -1
}
```
Первоначальная функция возвращает максимальный индекс в строке(s)  символов a или b, не учитывая первый символ строки. Упростил код, добавил проверку на то что s строка, и то что a и b после toString будут односимвольными строками.
## 2. Практическое задание
### Терминал оплаты услуг сотовой связи

Разработать (сверстать и реализовать клиентскую логику) интерфейс приложения для терминала предоставляющего сервис пополнения баланса сотовых операторов. Приложение должно иметь следующие экраны/основные элементы ввода и управления:
1. Главный экран
 - Список обслуживаемых операторов связи: МТС, Билайн, Мегафон (предусмотреть возможность большого количества операторов).
 - При клике на любом операторе - переход на экран пополнения.
2. Форма пополнения баланса
 - Идентификатор выбранного оператора связи
 - Поле ввода номера телефона (с маской и валидацией)
 - Поле ввода суммы пополнения в руб (с маской и валидацией, мин возможная сумма - 1 руб, максимальная - 1000 руб)
 - Кнопка пополнить - при нажатии ждем ответ от сервера, показываем сообщение об успехе или ошибке. В случае успеха возвращаем на главный экран. Успех и ошибку реализовать случайным образом.
### 2.1 ```npm install``` \ ```yarn install```
### 2.2  ```npm run dev```
ssr для приложения - отсутствует.
### 2.3 Тесты - jest/enzyme. ```npm test```
### 2.4 Использованые либы:
	1) react
	2) mobx - только прелоадер для страниц
	3) react-form - формы/валидация
	4) react-input-mask - маски. Пришлось самому сбилдить и добавить в /libs, так как в npm в последней версии разработчик либы не сбилдил последнюю версию :)

```Брюханов Артем, ns4style@gmail.com```
